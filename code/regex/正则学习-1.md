# 正则表达式学习

## 概念

正则，就是正则表达式，英文是 Regular Expression，简称 RE。

顾名思义，正则其实就是一种<font color=red size=4 face="黑体">描述文本内容组成规律的表示方式</font>。


正则常见的三种功能：
- 1、校验数据的有效性，比如校验用户输入的手机号、邮箱是不是符合规则
- 2、查找符合要求的内容，比如查找符合某规则的号码
- 3、对文本进行切割、替换等操作，比如用连续的空白符切割



### 元字符

所谓元字符就是指那些在正则表达式中***具有特殊意义的专用字符***，元字符是构成正则表达式的基本元件。

正则就是由一系列的元字符组成的。



可以把元字符大致分成这几类：

1、表示单个特殊字符的

2、表示空白符的

3、表示某个范围的

4、表示次数的量词

5、表示断言的，我们可以把它理解成边界限定



#### 1、特殊单字符

```text
1、英文的点.
任意单个字符（换行除外）


2、
\d
任意单个数字
\D
任意单个非数字


3、
\w
表示任意单个数字或字母或下划线
\W
表示任意单个非数字和非字母和非下划线


4、
\s 
表示任意单个空白符
\S
表示任意单个非空白符
```

\d测试链接：[regex101: build, test, and debug regex](https://regex101.com/r/PnzZ4k/1)

\w测试链接：[regex101: build, test, and debug regex](https://regex101.com/r/PnzZ4k/2)



#### 2、空白符

除了特殊单字符外，在处理文本的时候肯定还会遇到空格、换行等空白符。

其实在写代码的时候也会经常用到，换行符 \n，TAB 制表符 \t 等。


不同的系统在每行文本结束位置默认的“换行”会有区别。

比如在 Windows 里是 \r\n，在 Linux 和 MacOS 中是 \n。


在正则中，也是类似于 \n 或 \r 等方式来表示空白符号，只要记住它们就行了。

平时使用正则，大部分场景使用 \s 就可以满足需求，\s 代表任意单个空白符号。



**\s 能匹配上各种空白符号，也可以匹配上空格。**

**换行有专门的表示方式，在正则中，空格就是用普通的字符英文的空格来表示。**



```text
\r
回车符
\n
换行符
、
```





#### 3、范围



#### 4、量词



#### 5、断言





## 如何入门



使用正则的步骤：

第一步，做分解。
第二步，分析各个子问题。
第三步，套皮。
第四步，调试。



使用正则的经验：

第⼀，能⽤普通字符串处理的，坚决⽤普通字符串处理。字符串处理的速度不⻅得差，可读性却好上很多。

第⼆，能写注释的正则表达式，⼀定要写注释。

第三，能⽤多个简单正则表达式解决的，⼀定不要苛求⽤⼀个复杂的正则表达式。



## 示例

从文本中找出连续出现的重复单词

```python
C:\Users\Administrator>python
Python 3.12.5 (tags/v3.12.5:ff3bc82, Aug  6 2024, 20:45:27) [MSC v.1940 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import re
>>> test_str = "the little cat cat in the hat hat."
>>> re.sub(r'(\w+) \1', r'\1', test_str)
'the little cat in the hat.'
>>>
```



## 参考书籍

极客时间课程作者：涂伟忠

《精通正则表达式》（第三版）

《正则指引》







## 学习感悟

如何“打出⼀⼝永不⼲涸的深井”，那就是⼀次性多投⼊点时间，由表及里，由术及道。一旦掌握了方法，之后就会简单很多了。

正所谓费曼说过的，“Knowledge isn't free. You have to pay attention. ― Richard P. Feynman"。

真正值得学的东西，没有什么“平滑学习曲线”。在前面的阶段，你总得狠下心来，过了一个又一个坎儿，然后才能有一马平川。



首先要弄清楚**概念模型**



能不能用正则表达式写一本程序天书～让后人来寻宝解密。。。好想法，突然想到用awk来写一个游戏的人。。厉害了！



**不是工作中用不到，而是当你不熟悉一个技能的时候，遇到问题时根本不会考虑它。**

深以为然。。。





## 待整理[TODO]

我一直觉得要想掌握一门技术永不忘记，最好的办法是造一个出来，影响我最深的2本书
《操作系统真相还原》、《自制编程语言-基于c语言》，真正把线程，进程，文件系统实现一遍，而且能运行，那这个知识点怕你一辈子也忘不了。

Good哦！








